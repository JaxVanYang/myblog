---
title: Linux 常用命令
date: '2020-11-30 01:00:00 +0800'
modified_date: '2022-04-03'
tags:
- 笔记
- Linux
---

> 在所有给出的命令格式中，`"[]"`表示可选项，`"<>"`表示必填项  
> 如有疏漏，欢迎指出 :)  

<br>

## 文件、用户管理命令
___

1. 切换目录  

   ```bash
   # 例如：cd /home，绝对路径需要在前面加“/”
   cd </绝对路径>
   
   # 例如：cd my_dir
   cd <相对路径>
 
   # 返回上一次所处的目录
   cd -
 
   # 切换到上层目录
   cd ..
 
   # 切换到家目录
   cd ~
 
   # 切换到其他用户的家目录
   cd ~<用户名>
   ```

2. 文件创建、删除以及创建文件链接  

   ```bash
   # 创建空文件，如果文件已存在，就只会更新原文件的时间
   touch <文件名>
 
   # 删除文件，加“-f”表示不询问
   rm [-f] <文件名>
 
   # 创建文件链接
   ln [选项] <源文件> [目标文件
 
   # 创建软链接
   ln -s <源文件> [目标文件]
 
   # 创建硬链接，硬链接不能指向目录，也不能跨设备
   ln <源文件> [目标文件]
   ```

3. 创建目录、复制目录、删除目录  

   ```bash
   # 创建目录
   mkdir [选项] <目录名>
 
   # 创建多级目录
   mkdir -p <目录名>
 
   # 复制目录必须加“-r”递归复制
   cp [-pdria] <源目录> <目标目录>
 
   # 删除目录，“r”表示递归删除
   rm -r <目录名
   ```

4. 将匹配的文件复制到指定目录  

   ```bash
   cp [-pdia] <源文件> <目标目录>
   ```

5. 获取管理员权限  

   ```bash
   # 切换到 root 用户
   su
 
   # （推荐）直接以管理员权限执行命令
   sudo <命令>
   ```

6. 创建新用户

   ```bash
   # 添加用户
   useradd [选项] <用户名>
   # 设置密码
   passwd <用户名>
 
   # 使用这条命令可以交互式地创建用户并设置
   adduser <用户名>
 
   # 删除用户，"f"表示强制删除，“r”表示同时删除用户和家目录
   userdel [-fr] <用户名
   ```

7. 切换用户  

   ```bash
   # root 用户使用不需要验证密码
   su <用户名>
   ```

8. 改变目录及文件权限  

   ```bash
   # "-R"表示递归更改目录下所有文件
   chmod [-R] [xyz] <目录/文件>
   ```

   还可以通过符号设定权限：  

   | 命令  | 身份          | 选项      | 权限      | 文件或目录 |
   | ----- | ------------- | --------- | --------- | ---------- |
   | chmod | u（用户）     | +（增加） | r（读）   |            |
   |       | g（组）       | -（除去） | w（写）   |            |
   |       | o（其他用户） | =（设定） | x（执行） |            |
   |       | a（所有身份） |           |           |            |
 
   例如：  
 
   ```bash
   # 拥有着增加读权限，组成员除去写权限，设定其他用户只有执行权限
   chmod u+r g-w o=x test
   ```

9. 改变或增加用户组  

   ```bash
   # 创建用户组
   groupadd [选项] <群组名>
 
   # 修改用户的属性
   usermod [选项] <用户名>
 
   # 变更所属组
   usermod -g <用户名>
 
   # 变更扩展用户组，例如：usermod -G root，更改扩展用户组为 root
   usermod -G <用户名>
 
   chown [选项] [所有者][:[组]] <文件> # 更改文件所有者和所属组
 
   # 例如：将 /u 及其子目录下所有文件的属主更改为"root"，属组更改为“test”
   # -h 等效于 --no-dereference，表示只影响软链接而不改变它们指向的文件的属主和属组
   chown -hR root:test /u
   ```

<br>

## 其他常用命令
___


### 常用系统工作命令 ###

```bash
# 查看命令手册
man <命令名称>

# 在终端输出字符串或变量的值
echo [字符串|$变量]

# 显示及设置系统时间
date [选项][+指定的格式]

# 重启
reboot

# 关机
poweroff

# 用于在终端中下载网络文件
wget [参数] <下载地址>

# 查看系统中的进程状态，“-”可省略
ps [-aux]

# 实时监视进程活动与系统负载，类似任务管理器
top

# 查询某个指定服务进程的 PID 值
pidof [参数] <进程 PID>

# 终止某个进程，慎用，可能导致服务异常退出
kill [参数] <进程 PID>

# 终止某个指定名称服务的全部进程
killall [参数] <进程名称>
```


### 系统状态检测命令 ###

```bash
# （过时）获取网卡配置与网络状态
ifconfig [网络设备] [参数]
# 现在常用的方式
ip a

# 查看系统内核与系统版本等信息
uname [-a]

# 查看当前系统的运行时长和负载信息
uptime

# 显示当前系统内存的使用量信息，-h 意为 hunam friendly
free [-h]

# 查看当前登入主机的用户终端信息
who [参数]

# 查看所有的登录记录
last [参数]

# 显示执行过的命令，加“-c”清空历史
history [-c]
```


### 工作目录切换命令 ###

```bash
# 打印当前所处目录
pwd

# 显示目录中的文件信息
ls [选项] [文件]
```

### 文本文件编辑命令 ###

```bash
# 查看纯文本内容（内容较少的）
cat [选项] <文件>

# 查看纯文本内容（内容较多的）
more [选项] <文件>

# （推荐）more 的替代命令
less <文件>

# 查看纯文本内容的前 N 行
head -n <N> <文件>

# 查看纯文本内容的后 N 行，也可以用于实时查看文件新增内容
# -n 和 head 一样是设置查看行数，-f 则是设置实时查看
tail [选项] <文件>

# 从标准输入读取字符串，并将字符集 1 中的字符按照顺序替换为字符集 2 中的字符
tr <字符集 1> <字符集 2>

# 统计指定文本的行数、字数、字节数
wc [-lwc] <文本文件>

# 查看文件的具体存储信息和时间等信息
stat <文件>

# 提取文件中指定列的元素
cut [参数] <文件>
# 例如：提取文件中第 1、3、5 列的元素（以 TAB 分隔）
cut -f 1,3,5 <文件>

# 比较文本文件之间的差异
diff [参数] <文件> <文件>
```

<br>

## 参考
___

- [Linux 就该这么学](https://www.linuxprobe.com/)  

- [菜鸟教程](https://www.runoob.com/linux/linux-file-attr-permission.html)
